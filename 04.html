<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>HgInit: Mesclando</title>

<script src="c/jquery-1.4.1.js"></script>
<script src="c/basic.js"></script>

<link href="i/Hg.ico" rel="shortcut icon" />

<link href="c/styles.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-225715-20");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}</script>

	<!-- Google Website Optimizer Control Script -->
	<script>
	function utmx_section(){}function utmx(){}
	(function(){var k='2687020024',d=document,l=d.location,c=d.cookie;function f(n){
	if(c){var i=c.indexOf(n+'=');if(i>-1){var j=c.indexOf(';',i);return c.substring(i+n.
	length+1,j<0?c.length:j)}}}var x=f('__utmx'),xx=f('__utmxx'),h=l.hash;
	d.write('<sc'+'ript src="'+
	'http'+(l.protocol=='https:'?'s://ssl':'://www')+'.google-analytics.com'
	+'/siteopt.js?v=1&utmxkey='+k+'&utmx='+(x?x:'')+'&utmxx='+(xx?xx:'')+'&utmxtime='
	+new Date().valueOf()+(h?'&utmxhash='+escape(h.substr(1)):'')+
	'" type="text/javascript" charset="utf-8"></sc'+'ript>')})();
	</script><script>utmx("url",'A/B');</script>
	<!-- End of Google Website Optimizer Control Script -->
</head>
<body>
	<div id="kilnFlyOut">
		<div class="flyouttext">
		<strong>Kiln lhe oferece:</strong><br />

		&#8226; Controle de versão baseado no <a href="http://mercurial.selenic.com/" target="_blank" onClick="javascript: pageTracker._trackPageview('/outbound/flyout/mercurial.selenic.com');">Mercurial</a> e <a href="http://git-scm.com">Git</a><br />
	  &#8226; <a href="http://www.fogcreek.com/kiln/features/team-up/" target="_blank" onClick="javascript: pageTracker._trackPageview('/outbound/flyout/branchandmerge.kilnhg.com');">Ramificação e mesclagem</a> que realmente funciona
	  </div>
	  
	 <div class="flyouttext">
	  &#8226; Hospedagem segura em nossos servidores<br />
	  &#8226; <a href="http://www.fogcreek.com/kiln/features/code-reviews" target="_blank" onClick="javascript: pageTracker._trackPageview('/outbound/flyout/startreviews.kilnhg.com');">Revisão de código</a> perfeitamente integrada
	  </div>
	 <div class="flyouttext"> <a href="https://secure.fogcreek.com/kiln/try/?fccmp=hginit" target="_blank" onClick="javascript: pageTracker._trackPageview('/outbound/flyout/freetrial.shop.fogcreek.com');"><img src="i/getstarted.gif" width="182" height="24" border="0" /></a>
	 </div>
	 <div class="flyoutteaser"><nobr><strong>Experimente o Kiln!</strong> Hospedagem Mercurial e muito mais.</nobr></div>
	</div>

<div class="toptop" align="left">
    <ul>
        <li align="center" style="width:220px"><a href="http://about.me/mfandrade">Traduzido por Marcelo F Andrade</a></li>
        <li align="center"><a href="http://www.joelonsoftware.com/" onClick="javascript: pageTracker._trackPageview('/outbound/toptop/joelonsoftware.com');">Joel on Software</a></li>
        <li align="center"><a href="http://mercurial.selenic.com/" onClick="javascript: pageTracker._trackPageview('/outbound/toptop/mercurial.selenic.com');">Mercurial</a></li>
        <li align="center"><a href="index.html">Home</a></li>
    </ul>
</div>
<div id="dropshadow"></div>
<div id="topnav">
  <div class="tInterior">
      <a href="index.html">
        <img src="i/logo.png" border="0" alt="HgInit Home" />
      </a>
  
  Algumas vezes incorporar alterações causa conflitos.  Normalmente tais
  conflitos são fáceis de resolver, mas você precisa resolvê-los ou você
  terá múltiplas cabeças.  E quem gosta de múltiplas cabeças?

  </div>
</div>
<div class="main">
  <h1>Mesclando</h1>
  <div class="content">
  
<p>Uma parte importante do controle de versão é coordenar o trabalho de várias pessoas na mesma base de código.</p>

<p>Imagine que Rose e eu ambos queremos fazer alterações na receita de guacamole.  A Rose está melhorando a qualidade do abacate.  Antes de começar, ela vai puxar todas as últimas atualizações do repositório central para que ela esteja completamente atualizada.</p>

<div class="codesnippetrose">
<div class="codetop"> </div>
<pre class="rose">
C:\Users\rose\receitas&gt; <strong>hg pull</strong>
pulling from http://joel.example.com:8000/
searching for changes
adding changesets
adding manifests
adding file changes
added 2 changesets with 2 changes to 1 files
(run 'hg update' to get a working copy)

C:\Users\rose\receitas&gt; <strong>hg up</strong>
1 files updated, 0 files merged, 0 files removed, 0 files unresolved
</pre>
<div class="codebottom"> </div>
</div>

<p>Agora uma edição:</p>


<div class="edit1">
                <div class="edittopbefore">
                guac </div>
                <div class="editcontent">
* 2 abacates maduros<br>
* 1/2 cebola roxa picada (cerca de 1/2 xícara)<br>
* 1-2 pimentas habanero, sem talo e sem sementes, picadas<br>
&#8230;
                </div>
                <img src="i/edit-bot.gif" width="387" height="76" />
    </div>


<div class="edit2">
	<img src="i/arrow2.gif" width="83" height="97" class="editArrow" />
	<div class="edittopafter">    
		guac
	</div>
  <div class="editcontent">
* 2 abacates maduros do tipo <strong>Hass</strong>, <strong>(não Haas)</strong><br>
* 1/2 cebola roxa picada (cerca de 1/2 xícara)<br>
* 1-2 pimentas habanero, sem talo e sem sementes, picadas<br>
&#8230;
   </div>
  <img src="i/edit-bot.gif" width="387" height="76" />
 </div>
 
 <div style="clear: both;">&nbsp;</div>

<p>Ela dá commit e transfere a alteração para o repositório central:</p>

<div class="codesnippetrose">
<div class="codetop"> </div>
<pre class="rose">
C:\Users\rose\receitas&gt; <strong>hg diff</strong>
diff -r 549d45f24c37 guac
--- a/guac      Thu Feb 11 17:07:41 2010 -0500
+++ b/guac      Thu Feb 11 17:10:40 2010 -0500
@@ -1,4 +1,4 @@
-* 2 abacates maduros
+* 2 abacates maduros do tipo Hass (não Haas)
 * 1/2 cebola roxa picada (cerca de 1/2 xícara)
 * 1-2 pimentas habanero, sem talo e sem sementes, picadas
 * 2 colheres de sopa de coentro picado bem fininho

C:\Users\rose\receitas&gt; <strong>hg com -m &quot;especifica o abacate&quot;</strong>

C:\Users\rose\receitas&gt; <strong>hg push</strong>
pushing to http://joel.example.com:8000/
searching for changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 1 changes to 1 files
</pre>
<div class="codebottom"> </div>
</div>

<p>Simultaneamente, eu faço uma alteração numa parte diferente do arquivo:</p>

<div class="edit1">
                <div class="edittopbefore">
                guac </div>
                <div class="editcontent">
* 2 abacates maduros<br>
* 1/2 cebola roxa picada (cerca de 1/2 xícara)<br>
* 1-2 pimentas habanero, sem talo e sem sementes, picadas<br>
&#8230;
                </div>
                <img src="i/edit-bot.gif" width="387" height="76" />
    </div>


<div class="edit2">
	<img src="i/arrow2.gif" width="83" height="97" class="editArrow" />
	<div class="edittopafter">    
		guac
	</div>
  <div class="editcontent">
* 2 abacates maduros<br>
* 1/2 cebola roxa picada (cerca de 1/2 xícara)<br>
* 1-2 pimentas <strong>jalapeño</strong>, sem talo e sem sementes, picadas<br>
&#8230;
   </div>
  <img src="i/edit-bot.gif" width="387" height="76" />
 </div>
 
 <div style="clear: both;">&nbsp;</div>


<p>Eu consigo dar commit, mas não consigo dar push para o repositório central.</p>

<div class="codesnippetjoel">
<div class="codetop"> </div>
<pre class="joel">
C:\Users\joel\receitas&gt; <strong>hg diff</strong>
diff -r 549d45f24c37 guac
--- a/guac      Thu Feb 11 17:07:41 2010 -0500
+++ b/guac      Thu Feb 11 17:12:09 2010 -0500
@@ -1,6 +1,6 @@
 * 2 abacates maduros
 * 1/2 cebola roxa picada (cerca de 1/2 xícara)
-* 1-2 pimentas habanero, sem talo e sem sementes, picadas
+* 1-2 pimentas jalapeño, sem talo e sem sementes, picadas
 * 2 colheres de sopa de coentro picado bem fininho
 * 1 colher de sopa de suco de limão
 * 1/2 colher de chá de sal grosso

C:\Users\joel\receitas&gt; <strong>hg com -m &quot;uma pimenta melhor&quot;</strong>

C:\Users\joel\receitas&gt; <strong>hg push</strong>
pushing to http://joel.example.com:8000/
searching for changes
abort: push creates new remote heads!
(did you forget to merge? use push -f to force)
</pre>
<div class="codebottom"> </div>
</div>

<p>Esta é provavelmente a mensagem de erro mais inútil do Mercurial.  Assim é como eu acho que ela deveria ser:</p>

<div class="codesnippetjoel">
<div class="codetop"> </div>
<pre class="joel">
C:\Users\joel\receitas&gt; <strong>hg push</strong>
pushing to http://joel.example.com:8000/
searching for changes
ZOMG!!! There are changes in that repo that you don't have yet.
Don't push now. Pull the latest changes and merge them first.
</pre>
<div class="codebottom"> </div>
</div>

<p>Algo como: <em>VISH!!! Esse repositório tem atualizações que você ainda não possui.<br>
Não transfira suas alterações agora.  Baixe primeiro estas últimas atualizações do repositório.</em></p>

<p>E assim, isto era o que eu faria:</p>

<div class="codesnippetjoel">
<div class="codetop"> </div>
<pre class="joel">
C:\Users\joel\receitas&gt; <strong>hg pull</strong>
pulling from http://joel.example.com:8000/
searching for changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 1 changes to 1 files (+1 heads)
(run 'hg heads' to see heads, 'hg merge' to merge)
</pre>
<div class="codebottom"> </div>
</div>

<p>Quer saber o que acabou de chegar?  O comando <strong>hg log -P</strong> é uma maneira útil de descobrir.</p>

<div class="codesnippetjoel">
<div class="codetop"> </div>
<pre class="joel">
C:\Users\joel\receitas&gt; <strong>hg log -P .</strong>
changeset:   9:44aefdeef9e0
tag:         tip
parent:      7:549d45f24c37
user:        Rose Hillman &lt;rose@example.com&gt;
date:        Thu Feb 11 17:10:48 2010 -0500
summary:     especifica o abacate
</pre>
<div class="codebottom"> </div>
</div>

<p>De fato é a alteração que a Rose fez um pouco antes.  Como está o meu repositório agora?</p>

<div class="codesnippetjoel">
<div class="codetop"> </div>
<pre class="joel">
C:\Users\joel\receitas&gt; <strong>hg heads</strong>
changeset:   9:44aefdeef9e0
tag:         tip
parent:      7:549d45f24c37
user:        Rose Hillman &lt;rose@example.com&gt;
date:        Thu Feb 11 17:10:48 2010 -0500
summary:     especifica o abacate

changeset:   8:bf5854ca20f7
user:        Joel Spolsky &lt;joel@joelonsoftware.com&gt;
date:        Thu Feb 11 17:12:23 2010 -0500
summary:     uma pimenta melhor


C:\Users\joel\receitas&gt; <strong>hg parent</strong>
changeset:   8:bf5854ca20f7
user:        Joel Spolsky &lt;joel@joelonsoftware.com&gt;
date:        Thu Feb 11 17:12:23 2010 -0500
summary:     uma pimenta melhor
</pre>
<div class="codebottom"> </div>
</div>

<p>Eu tenho &#8220;múltiplas cabeças.&#8221;  Basicamente, o meu repositório agora se parece com isto:</p>


<img src="i/04-repo.png" />


<p>Vê as duas cabeças?  Isto aconteceu porque quando a Rose fez as alterações dela, ela estava trabalhando no changeset 7, e quando eu fiz as minhas alterações eu também estava trabalhando neste mesmo changeset 7.  Essas alterações precisam ser consolidadas.  [NOTA: Nunca use voz passiva!]  <em>EU preciso consolidar essas alterações.</em></p>

<div class="codesnippetjoel">
<div class="codetop"> </div>
<pre class="joel">
C:\Users\joel\receitas&gt; <strong>hg merge</strong>
merging guac
0 files updated, 1 files merged, 0 files removed, 0 files unresolved
(branch merge, don't forget to commit)
</pre>
<div class="codebottom"> </div>
</div>

<p>O comando para isso, <strong>hg merge</strong>, pega as duas cabeças e as combina.  Então ele deixa o resultado no meu diretório de trabalho.  Ele não dá commit.  Isso é bom porque me dá a oportunidade de conferir se o resultado final da combinação está correto:</p>

<div class="codesnippetjoel">
<div class="codetop"> </div>
<pre class="joel">
C:\Users\joel\receitas> <strong>type guac</strong>
* 2 abacates maduros do tipo Hass (não Haas)
* 1/2 cebola roxa picada (cerca de 1/2 xícara)
* 1-2 pimentas jalapeño, sem talo e sem sementes, picadas
* 2 colheres de sopa de coentro picado bem fininho
* 1 colher de sopa de suco de limão
* 1/2 colher de chá de sal grosso
* Uma pitada de pimenta-do-reino moída na hora
* 1/2 tomate maduro, sem pele e sem sementes, picado

Amasse todos os ingredientes juntos.
Sirva com salgadinhos tipo nachos.

Esta receita fica realmente muito boa servida com QUESO.

QUESO é a palavra em espanhol para "queijo", mas no
supermercado você pode encontrar em fatias quadradas
e embaladas de queijo processado e que você pode
derreter no micro-ondas com uma pitada de salsa.  HUMM!
</pre>
<div class="codebottom"> </div>
</div>

<p>Parece que está tudo certo; os abacates são do tipo Hass e as pimentas são Japapeño.  Então agora eu vou em frente dar commit e transferir tudo para o servidor.</p>

<div class="codesnippetjoel">
<div class="codetop"> </div>
<pre class="joel">
C:\Users\joel\receitas&gt; <strong>hg com -m "merge"</strong>

C:\Users\joel\receitas&gt; <strong>hg push</strong>
pushing to http://joel.example.com:8000/
searching for changes
adding changesets
adding manifests
adding file changes
added 2 changesets with 2 changes to 1 files
</pre>
<div class="codebottom"> </div>
</div>

<p>Eu estou transferindo dois changesets: a minha alteração original da pimenta jalapeño e o resultado do merge, que é seu próprio changeset.</p>

<p>Perceba que as alterações que a Rose e eu fizemos não conflitaram em nada, já que nós trabalhamos em partes diferentes da receita.  Então combinar essas duas alterações foi super-fácil.  Esta vai ser a situação mais comum, afinal porque na maioria das organizações a cada programador é atribuída uma tarefa distinta para trabalhar em partes diferentes do código.</p>

<p>Mas algumas vezes você pode ter uma organização não tão organizada onde ninguém está disposto a definir claramente quem tem a obrigação de fazer o quê.  Isto pode repentinamente causar uma sensação de desânimo muitas vezes inexplicável na equipe de programadores.  E isso pode ser difícil de se detectar.  Sintomas incluem: programadores se trancando nos banheiros, pausas muito grandes e demoradas para o cafezinho, alta rotatividade, pessoas choroas e cabisbaixas em suas estações de trabalho e zumbidos no ouvido causados trauma do barulho constante de bombas e disparos de rifle na guerra.</p>

<p>MAS, mesmo nas organizações mais bem gerenciadas do mundo, conflitos de merge algumas vezes acontecem.  E o Mercurial vai precisa que a pessoa que for executar o merge resolva os conflitos.  Vamos ver como é isso.</p>

<p>Primeiramente eu quero que a Rose se atualize logo com minha alteração da pimenta jalapeño:</p>

<div class="codesnippetrose">
<div class="codetop"> </div>
<pre class="rose">
C:\Users\rose\receitas&gt; <strong>hg in</strong>
comparing with http://joel.example.com:8000/
searching for changes
changeset:   9:bf5854ca20f7
parent:      7:549d45f24c37
user:        Joel Spolsky &lt;joel@joelonsoftware.com&gt;
date:        Thu Feb 11 17:12:23 2010 -0500
summary:     uma pimenta melhor

changeset:   10:8646f8cd7154
tag:         tip
parent:      9:bf5854ca20f7
parent:      8:44aefdeef9e0
user:        Joel Spolsky &lt;joel@joelonsoftware.com&gt;
date:        Thu Feb 11 21:51:26 2010 -0500
summary:     merge


C:\Users\rose\receitas&gt; <strong>hg pull</strong>
pulling from http://joel.example.com:8000/
searching for changes
adding changesets
adding manifests
adding file changes
added 2 changesets with 2 changes to 1 files
(run 'hg update' to get a working copy)

C:\Users\rose\receitas&gt; <strong>hg up</strong>
1 files updated, 0 files merged, 0 files removed, 0 files unresolved
</pre>
<div class="codebottom"> </div>
</div>

<p>Agora vamos ver o que acontece quando você tem um conflito real: nós dois vamos bagunçar um pouquinho com os ingredientes da receita.</p>

<p>Eu vou adicionar uma banana:</p>


<div class="edit1">
                <div class="edittopbefore">
                guac </div>
                <div class="editcontent">
* 2 abacates maduros do tipo Hass (não Haas)<br>
* 1/2 cebola roxa picada (cerca de 1/2 xícara)<br>
* 1-2 pimentas jalapeño, sem talo e sem sementes, picadas<br>
* 2 colheres de sopa de coentro picado bem fininho<br>
* 1 colher de sopa de suco de limão<br>
* 1/2 colher de chá de sal grosso<br>
* Uma pitada de pimenta-do-reino moída na hora<br>
* 1/2 tomate maduro, sem pele e sem sementes, picado<br><br>

Amasse todos os ingredientes juntos.<br>
Sirva com salgadinhos tipo nachos.<br>
                </div>
                <img src="i/edit-bot.gif" width="387" height="76" />
    </div>


<div class="edit2">
	<img src="i/arrow2.gif" width="83" height="97" class="editArrow" />
	<div class="edittopafter">    
		guac
	</div>
  <div class="editcontent">
* 2 abacates maduros do tipo Hass (não Haas)<br>
* 1/2 cebola roxa picada (cerca de 1/2 xícara)<br>
* 1-2 pimentas jalapeño, sem talo e sem sementes, picadas<br>
* 2 colheres de sopa de coentro picado bem fininho<br>
* 1 colher de sopa de suco de limão<br>
* 1/2 colher de chá de sal grosso<br>
* Uma pitada de pimenta-do-reino moída na hora<br>
* 1/2 tomate maduro, sem pele e sem sementes, picado<br><br>
 <strong>* 1 deliciosa BANANA amarela.
</strong><br><br>
Amasse todos os ingredientes juntos.<br>
Sirva com salgadinhos tipo nachos.
   </div>
  <img src="i/edit-bot.gif" width="387" height="76" />
 </div>
 
 <div style="clear: both;">&nbsp;</div>


<p>Eu efetivo agora minha alteração que inclui a banana:</p>

<div class="codesnippetjoel">
<div class="codetop"> </div>
<pre class="joel">
C:\Users\joel\receitas&gt; <strong>hg diff</strong>
diff -r 8646f8cd7154 guac
--- a/guac      Thu Feb 11 21:51:26 2010 -0500
+++ b/guac      Thu Feb 11 22:46:27 2010 -0500
@@ -6,6 +6,7 @@
 * 1/2 colher de chá de sal grosso
 * Uma pitada de pimenta-do-reino moída na hora
 * 1/2 tomate maduro, sem pele e sem sementes, picado
+* 1 deliciosa BANANA amarela.

 Amasse todos os ingredientes juntos.
 Sirva com salgadinhos tipo nachos.

C:\Users\joel\receitas&gt; <strong>hg com -m &quot;bananas HUMM&quot;</strong>

C:\Users\joel\receitas&gt; <strong>hg push</strong>
pushing to http://joel.example.com:8000/
searching for changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 1 changes to 1 files
</pre>
<div class="codebottom"> </div>
</div>

<p>E a Rose, paciência, adicionou uma MANGA.  EXATAMENTE NA MESMA LINHA!</p>

<div class="edit1">
                <div class="edittopbefore">
                guac </div>
                <div class="editcontent">
* 2 abacates maduros do tipo Hass (não Haas)<br>
* 1/2 cebola roxa picada (cerca de 1/2 xícara)<br>
* 1-2 pimentas jalapeño, sem talo e sem sementes, picadas<br>
* 2 colheres de sopa de coentro picado bem fininho<br>
* 1 colher de sopa de suco de limão<br>
* 1/2 colher de chá de sal grosso<br>
* Uma pitada de pimenta-do-reino moída na hora<br>
* 1/2 tomate maduro, sem pele e sem sementes, picado<br><br>

Amasse todos os ingredientes juntos.<br>
Sirva com salgadinhos tipo nachos.<br>
                </div>
                <img src="i/edit-bot.gif" width="387" height="76" />
    </div>


<div class="edit2">
	<img src="i/arrow2.gif" width="83" height="97" class="editArrow" />
	<div class="edittopafter">    
		guac
	</div>
  <div class="editcontent">
* 2 abacates maduros do tipo Hass (não Haas)<br>
* 1/2 cebola roxa picada (cerca de 1/2 xícara)<br>
* 1-2 pimentas jalapeño, sem talo e sem sementes, picadas<br>
* 2 colheres de sopa de coentro picado bem fininho<br>
* 1 colher de sopa de suco de limão<br>
* 1/2 colher de chá de sal grosso<br>
* Uma pitada de pimenta-do-reino moída na hora<br>
* 1/2 tomate maduro, sem pele e sem sementes, picado<br>
<strong>* 1 MANGA grande e madura, da estação.<br><br>
</strong>
Amasse todos os ingredientes juntos.<br>
Sirva com salgadinhos tipo nachos.<br>
   </div>
  <img src="i/edit-bot.gif" width="387" height="76" />
 </div>
 
 <div style="clear: both;">&nbsp;</div>


<p>MANGA &#8220;grande e madura&#8221;, então.</p>

<div class="codesnippetrose">
<div class="codetop"> </div>
<pre class="rose">
C:\Users\rose\receitas&gt; <strong>hg diff</strong>
diff -r 8646f8cd7154 guac
--- a/guac      Thu Feb 11 21:51:26 2010 -0500
+++ b/guac      Thu Feb 11 22:49:26 2010 -0500
@@ -6,6 +6,7 @@
 * 1/2 colher de chá de sal grosso
 * Uma pitada de pimenta-do-reino moída na hora
 * 1/2 tomate maduro, sem pele e sem sementes, picado
+* 1 MANGA grande e madura, da estação.

 Amasse todos os ingredientes juntos.
 Sirva com salgadinhos tipo nachos.

C:\Users\rose\receitas&gt; <strong>hg com -m "mmmmanga"</strong>
</pre>
<div class="codebottom"> </div>
</div>

<p>Desta vez eu fiz a minha alteração antes da Rose para que ela tenha que fazer o merge.  HA-HA!</p>

<div class="codesnippetrose">
<div class="codetop"> </div>
<pre class="rose">
C:\Users\rose\receitas&gt; <strong>hg pull</strong>
pulling from http://joel.example.com:8000/
searching for changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 1 changes to 1 files (+1 heads)
(run 'hg heads' to see heads, 'hg merge' to merge)

C:\Users\rose\receitas&gt; <strong>hg merge</strong>
</pre>
<div class="codebottom"> </div>
</div>

<p>Logo o conflito é detectado e é aberta alguma ferramenta gráfica de resolução de conflitos, com uma interface de usuário bem prosaica, mas que faz basicamente muito bem o que tem que fazer uma vez que você tenha entendido como funciona.  Uma ferramenta comum de resolução de conflitos atualmente é o KDiff3, que mostra o seguinte à Rose:</p>


<img src="i/04-kdiff3.png" />


<p>No KDiff3 você vê quatro painéis.  O painel superior esquerdo é o arquivo original.  O superior central mostra a versão da Rose.  O superior direito mostra a minha versão.  E o painel inferior é um editor onde a Rose constrói um arquivo combinado com os conflitos resolvidos.</p>

<p>Corrigir conflitos é algo que envolve basicamente passar por cada trecho das alterações e decidir como resolvê-los.  A Rose ficou louca e decidiu que uma Guacamode com Banana e Manga não seria tão ruim:</p>


<img src="i/04-kdiff3-after.png" />


<p>A propósito, eu falei pra vocês que parece que a Rose está namorando?  Outro dia ela foi vista saindo do trabalho com um cara parecido com o ator Dennis Franz.  E aliás ela tem estado mais bem-humorada atualmente.</p>

<p>A Rose salva as alterações dela e sai do KDiff3.</p>

<div class="codesnippetrose">
<div class="codetop"> </div>
<pre class="rose">merging guac
0 files updated, 1 files merged, 0 files removed, 0 files unresolved
(branch merge, don't forget to commit)

C:\Users\rose\receitas&gt; <strong>hg diff</strong>
diff -r f923c9049234 guac
--- a/guac      Thu Feb 11 22:49:31 2010 -0500
+++ b/guac      Thu Feb 11 23:01:45 2010 -0500
@@ -7,6 +7,7 @@
 * Uma pitada de pimenta-do-reino moída na hora
 * 1/2 tomate maduro, sem pele e sem sementes, picado
 * 1 MANGA grande e madura, da estação.
+* 1 deliciosa BANANA amarela.

 Amasse todos os ingredientes juntos.
 Sirva com salgadinhos tipo nachos.

C:\Users\rose\receitas&gt; <strong>hg com -m "merge"</strong>

C:\Users\rose\receitas&gt; <strong>hg push</strong>
pushing to http://joel.example.com:8000/
searching for changes
adding changesets
adding manifests
adding file changes
added 2 changesets with 2 changes to 1 files
</pre>
<div class="codebottom"> </div>
</div>

<p>E o conflito está resolvido.</p>

<p>Algo que você deve ter em mente: não é necessário marcar horário com ninguém para para fazer um merge.  Qualquer pessoa pode executar um <strong>hg pull</strong> a qualquer momento, e se você não estiver à vontade para lidar com a resolução de conflitos num momento, você pode continuar trabalhando e executando seus commits tranquilamente, até que você tenha tempo para pensar sobre como executar o merge.</p>

<h2>Teste você mesmo</h2>

<p>Eis aqui as coisas que você deve saber depois da leitura deste tutorial:</p>

<ol>
  <li>Trabalhar numa base de código com outras pessoas</li>
  <li>Obter as alterações feitas pelas outras pessoas</li>
  <li>Transferir as suas alterações</li>
  <li>Resolver conflitos de merge que podem ocorrer eventualmente</li>
  <li>Diagnosticar certos tipos de programadores melancólicos</li>
</li>
</ol>

<div class="footer">
 <div class="footernav" id="home" align="center"><a href="index.html"><span class="angleQuote">&#171;</span> Home</a></div>
 
 <div class="footernav" id="comingup">Next, we talk about<br /> repository architecture</div>
 <div class="footernav" id="next" align="center"><a href="05.html">Next <span class="angleQuote">&#187;</span></a></div>


 
 
 </div>    

<div class="pagebottom">

        <div class="bottomimg">
		<a href="http://www.kilnhg.com" target="_blank" id="logoLink" title="KilnHg.com" onClick="javascript: pageTracker._trackPageview('/outbound/bottom/klinhg.com');">&nbsp;</a>
		<div class="bottomtext">Este tutorial foi desenvolvido pela equipe da Fog Creek Software, criadores do Kiln, um sistema controle de versão desenvolvido com Mercurial</div>
        
        <div class="bottomtext"><strong>Kiln lhe oferece:</strong><br />

&#8226; Um sistema de controle de versão completo baseado no <a href="http://mercurial.selenic.com/" target="_blank" onClick="javascript: pageTracker._trackPageview('/outbound/bottom/mercurial.selenic.com');">Mercurial</a> e <a href="http://git-scm.com">Git</a><br />
&#8226; <a href="http://www.fogcreek.com/kiln/features/team-up" target="_blank" onClick="javascript: pageTracker._trackPageview('/outbound/bottom/branchandmerge.kilnhg.com');">Ramificação e mesclagem</a> que realmente funcionam<br />
&#8226; Hospedagem segura em nossos servidores<br />
&#8226; <a href="http://www.fogcreek.com/kiln/features/code-reviews" target="_blank" onClick="javascript: pageTracker._trackPageview('/outbound/bottom/startreviews.kilnhg.com');">Revisão de código</a> perfeitamente integrada<br />
</div>
      
      <div class="bottomtext getStarted">
      <a href="https://secure.fogcreek.com/kiln/try/?fccmp=hginit" target="_blank" onClick="javascript: pageTracker._trackPageview('/outbound/bottom/freetrial.shop.fogcreek.com');"><img src="i/getstarted.gif" width="182" height="24" border="0" /></a>
      </div>  
        
      </div>             
        <div class="about">
          <p>
            <strong>Quer mais?</strong>
          </p>
          
          <p>
            A Fog Creek oferece webinários mensais gratuitos que abordam além dos conceitos básicos do Mercurial.
            Cadastre-se em <a href="http://www.fogcreek.com/kiln/training/#training">fogcreek.com</a>.
          </p>

          <p>
            <strong>Perguntas?</strong>
          </p>
          
          <p>
            Procurando ajuda com o <a href="http://fogcreek.com/kiln">Kiln</a>?  Confira a <a href="http://help.fogcreek.com/kiln">Base de Conhecimentos do Kiln</a>.
          </p>

          <p>
            <strong>Sobre o autor.</strong>
          </p> 
        
          <p>
Joel Spolsky é o fundador da <a href="http://fogcreek.com" onClick="javascript: pageTracker._trackPageview('/outbound/bottom/fogcreek.com');">Fog Creek Software</a>, uma empresa de Nova York que prova que você pode tratar bem seus programadores e ainda assim ser lucrativo.  Os programadores têm escritórios particulares, almoço gratuito e trabalham não mais que 40 horas por semana.  Os clientes só pagam pelo software se eles gostarem do resultado.  A Fog Creek é a criadora do <a href="http://www.fogbugz.com" onClick="javascript: pageTracker._trackPageview('/outbound/bottom/fogbugz.com');">FogBugz</a>, do <a href="http://www.kilnhg.com/" onClick="javascript: pageTracker._trackPageview('/outbound/bottom/text.kilnhg.com');">Kiln</a> e do <a href="https://www.copilot.com/" onClick="javascript: pageTracker._trackPageview('/outbound/bottom/copilot.com');">Fog Creek Copilot</a>.  O blog do Joel, <a href="http://www.joelonsoftware.com/" onClick="javascript: pageTracker._trackPageview('/outbound/bottom/joelonsoftware.com');">Joel on Software</a>, é uma referência para programadores no mundo todo.
            
           </p>
        
        </div>


<!-- close bottom div -->
</div>
    
    
<!-- close "content" column -->     
</div>

<!-- close "main" div -->
</div>

<!-- bottom grey bar -->
<div class="botbot" align="left">
</div>

<!-- Google Website Optimizer Tracking Script -->
<script type="text/javascript">
if(typeof(_gat)!='object')document.write('<sc'+'ript src="http'+
(document.location.protocol=='https:'?'s://ssl':'://www')+
'.google-analytics.com/ga.js"></sc'+'ript>')</script>
<script type="text/javascript">
try {
var gwoTracker=_gat._getTracker("UA-225715-15");
gwoTracker._trackPageview("/2687020024/test");
}catch(err){}</script>
<!-- End of Google Website Optimizer Tracking Script -->

</body>

</html>
